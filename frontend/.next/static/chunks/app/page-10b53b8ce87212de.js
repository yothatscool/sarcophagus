(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{540:function(e,a,t){Promise.resolve().then(t.bind(t,446))},8797:function(e,a,t){"use strict";t.r(a),t.d(a,{LoadingProvider:function(){return l},useLoading:function(){return n}});var s=t(7437),r=t(2265);let i=(0,r.createContext)(void 0);function l(e){let{children:a}=e,[t,l]=(0,r.useState)({});return(0,s.jsx)(i.Provider,{value:{isLoading:t,setLoading:(e,a)=>{l(t=>({...t,[e]:a}))}},children:a})}function n(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useLoading must be used within a LoadingProvider");return e}},5174:function(e,a,t){"use strict";t.r(a),t.d(a,{NotificationProvider:function(){return n},useNotification:function(){return c}});var s=t(7437),r=t(2265),i=t(8259);t(8062);let l=(0,r.createContext)(void 0);function n(e){let{children:a}=e,t=(0,r.useCallback)((e,a)=>{i.Am[a](e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},[]),n=(0,r.useCallback)(e=>{i.Am.info((0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"Transaction submitted"}),(0,s.jsx)("a",{href:"https://testnet.vechain.org/transaction/".concat(e),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:"View on VeChain Explorer"})]}),{position:"bottom-right",autoClose:!1,closeOnClick:!1})},[]);return(0,s.jsxs)(l.Provider,{value:{showNotification:t,showTransactionNotification:n},children:[a,(0,s.jsx)(i.Ix,{})]})}function c(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useNotification must be used within a NotificationProvider");return e}},1571:function(e,a,t){"use strict";t.r(a),t.d(a,{WalletProvider:function(){return i},useWallet:function(){return r.Os},useWalletModal:function(){return r.hB}});var s=t(7437),r=t(2349);function i(e){let{children:a}=e;return(0,s.jsx)(r.jv,{node:"https://testnet.vechain.org/",usePersistence:!0,walletConnectOptions:{projectId:"a1472a0dff98ffc1f834887119efdf65",metadata:{name:"Sarcophagus Protocol",description:"A decentralized protocol for preserving digital legacies",url:"http://localhost:3000",icons:["http://localhost:3000/logo.png"]}},logLevel:"DEBUG",children:a})}},446:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return ee}});var s=t(7437),r=t(2265),i=t(5013),l=t(7415),n=t(5018),c=t(3605);let o=[{inputs:[{internalType:"address[]",name:"beneficiaries",type:"address[]"},{internalType:"uint256[]",name:"percentages",type:"uint256[]"}],name:"createSarcophagus",outputs:[],stateMutability:"nonpayable",type:"function"}],d=[{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"lockTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"}],u=[{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"yearsEarly",type:"uint256"},{internalType:"uint256",name:"inheritanceValue",type:"uint256"}],name:"mintCarbonOffsetReward",outputs:[],stateMutability:"nonpayable",type:"function"}],h=[{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"age",type:"uint256"},{internalType:"string",name:"verificationHash",type:"string"}],name:"verifyUser",outputs:[],stateMutability:"nonpayable",type:"function"}],m={TESTNET:{SARCOPHAGUS:"0x0000000000000000000000000000000000000000",OBOL_TOKEN:"0x0000000000000000000000000000000000000000",B3TR_REWARDS:"0x0000000000000000000000000000000000000000",DEATH_VERIFIER:"0x0000000000000000000000000000000000000000",MULTISIG_WALLET:"0x0000000000000000000000000000000000000000",VTHO_TOKEN:"0x0000000000000000000000000000456E65726779",B3TR_TOKEN:"0x0000000000000000000000000000000000000000"},MAINNET:{SARCOPHAGUS:"0x0000000000000000000000000000000000000000",OBOL_TOKEN:"0x0000000000000000000000000000000000000000",B3TR_REWARDS:"0x0000000000000000000000000000000000000000",DEATH_VERIFIER:"0x0000000000000000000000000000000000000000",MULTISIG_WALLET:"0x0000000000000000000000000000000000000000",VTHO_TOKEN:"0x0000000000000000000000000000456E65726779",B3TR_TOKEN:"0x0000000000000000000000000000000000000000"},LOCAL:{SARCOPHAGUS:"0x5FbDB2315678afecb367f032d93F642f64180aa3",OBOL_TOKEN:"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",B3TR_REWARDS:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",DEATH_VERIFIER:"0xDc64a140Aa3E981100a9becA4E685f962fC0B8C9",MULTISIG_WALLET:"0xa513E6E4b8f2a923D98304ec87F64353C4D5C853",VTHO_TOKEN:"0x5FbDB2315678afecb367f032d93F642f64180aa4",B3TR_TOKEN:"0x5FbDB2315678afecb367f032d93F642f64180aa5"}},x=()=>{{var e;let a=null===(e=window.ethereum)||void 0===e?void 0:e.chainId;if("0x27"===a||39===a)return m.TESTNET;if("0x1"===a||1===a)return m.MAINNET}return m.LOCAL};var g=t(5174);function p(){let[e,a]=(0,r.useState)(!1),[t,s]=(0,r.useState)(null),[m,p]=(0,r.useState)(null),[b,f]=(0,r.useState)(null),{showNotification:y}=(0,g.useNotification)(),[v,j]=(0,r.useState)({sarcophagus:null,obol:null,b3trRewards:null,deathVerifier:null}),[w,N]=(0,r.useState)(null),[k,A]=(0,r.useState)([]),[S,E]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[O,I]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{if(window.ethereum){let e=window.ethereum;await e.request({method:"eth_requestAccounts"});let a=new i.Q(e),t=await a.getSigner();p(a),f(t);let s=x(),r=new l.CH(s.SARCOPHAGUS,o,t),n=new l.CH(s.OBOL,d,t),c=new l.CH(s.B3TR_REWARDS,u,t),m=new l.CH(s.DEATH_VERIFIER,h,t);j({sarcophagus:r,obol:n,b3trRewards:c,deathVerifier:m})}}catch(e){console.error("Failed to initialize contracts:",e),s("Failed to connect to wallet")}})()},[]);let D=(0,r.useCallback)(async()=>{if(b&&v.sarcophagus&&v.obol)try{a(!0);let e=await b.getAddress();try{let a=await v.sarcophagus.getUserVerification(e);E(a.isVerified)}catch(e){E(!1)}try{let a=await v.sarcophagus.getSarcophagus(e);a.owner!==n.N?(N({owner:a.owner,beneficiaries:a.beneficiaries,vetAmount:a.vetAmount,vthoAmount:a.vthoAmount,b3trAmount:a.b3trAmount,obolAmount:a.obolAmount,createdAt:a.createdAt,isDeceased:a.isDeceased,deathTimestamp:a.deathTimestamp,actualAge:Number(a.actualAge),lifeExpectancy:Number(a.lifeExpectancy)}),T(!0),A(a.beneficiaries)):(T(!1),N(null),A([]))}catch(e){T(!1),N(null),A([])}try{let a=await v.obol.getUserStake(e);I({lockedValue:a.lockedValue,lastClaimTime:a.lastClaimTime,startTime:a.startTime,totalEarned:a.totalEarned,pendingRewards:a.pendingRewards,dailyRewardRate:a.dailyRewardRate,isLongTermHolder:a.isLongTermHolder,weightMultiplier:a.weightMultiplier,weightedRate:a.weightedRate})}catch(e){I(null)}}catch(e){console.error("Error refreshing user data:",e),s("Failed to load user data")}finally{a(!1)}},[b,v]),L=async(e,t,r)=>{if(!v.sarcophagus)return console.log("Mock: Verifying user",e,t,r),E(!0),y("User verified successfully! (Mock mode)","success"),{wait:async()=>{}};a(!0),s(null);try{let a=await v.sarcophagus.verifyUser(e,t,r);return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to verify user"),e}finally{a(!1)}},R=async(e,t)=>{if(!v.sarcophagus){console.log("Mock: Creating sarcophagus",e,t);let a={owner:await (null==b?void 0:b.getAddress())||"0x0000000000000000000000000000000000000000",beneficiaries:e.map((e,a)=>({address:e,percentage:t[a]})),vetAmount:BigInt(0),vthoAmount:BigInt(0),b3trAmount:BigInt(0),obolAmount:BigInt(0),createdAt:BigInt(Math.floor(Date.now()/1e3)),isDeceased:!1,deathTimestamp:BigInt(0),actualAge:30,lifeExpectancy:85};return N(a),T(!0),A(a.beneficiaries),y("Sarcophagus created successfully! (Mock mode)","success"),{wait:async()=>{}}}a(!0),s(null);try{let a=await v.sarcophagus.createSarcophagus(e,t);return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to create sarcophagus"),e}finally{a(!1)}},B=async(e,t)=>{if(!v.sarcophagus)return console.log("Mock: Depositing tokens",{vthoAmount:e,b3trAmount:t}),w&&N({...w,vetAmount:w.vetAmount+BigInt(c.fi("100")),vthoAmount:w.vthoAmount+BigInt(c.fi(e||"0")),b3trAmount:w.b3trAmount+BigInt(c.fi(t||"0"))}),y("Tokens deposited successfully! (Mock mode)","success"),{wait:async()=>{}};a(!0),s(null);try{let a=await v.sarcophagus.depositTokens(c.fi(e||"0"),c.fi(t||"0"),{value:c.fi("100")});return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to deposit tokens"),e}finally{a(!1)}},P=async e=>{if(!v.obol)return console.log("Mock: Locking OBOL tokens",e),w&&N({...w,obolAmount:w.obolAmount+BigInt(c.fi(e))}),y("OBOL tokens locked successfully! (Mock mode)","success"),{wait:async()=>{}};a(!0),s(null);try{let a=await v.obol.lockTokens(c.fi(e));return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to lock OBOL tokens"),e}finally{a(!1)}},V=async()=>{if(!v.obol)return console.log("Mock: Claiming OBOL rewards"),y("Claimed ".concat("100"," OBOL rewards! (Mock mode)"),"success"),{wait:async()=>{}};a(!0),s(null);try{let e=await v.obol.claimRewards();return await e.wait(),await D(),e}catch(e){throw s(e.reason||e.message||"Failed to claim OBOL rewards"),e}finally{a(!1)}},F=async(e,t,r)=>{if(!v.deathVerifier)return console.log("Mock: Verifying death",e,t,r),y("Death verified successfully! (Mock mode)","success"),{wait:async()=>{}};a(!0),s(null);try{let a=await v.deathVerifier.verifyDeath(e,t,r);return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to verify death"),e}finally{a(!1)}},W=async e=>{if(!v.sarcophagus)return console.log("Mock: Claiming inheritance",e),y("Inheritance claimed: ".concat("500 VET, 250 VTHO, 100 B3TR, 50 OBOL"," (Mock mode)"),"success"),{wait:async()=>{}};a(!0),s(null);try{let a=await v.sarcophagus.claimInheritance(e);return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to claim inheritance"),e}finally{a(!1)}},_=async(e,t)=>{if(!v.sarcophagus)throw Error("Contract not initialized");a(!0),s(null);try{let a=await v.sarcophagus.addBeneficiary(e,t);return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to add beneficiary"),e}finally{a(!1)}},M=async e=>{if(!v.sarcophagus)throw Error("Contract not initialized");a(!0),s(null);try{let a=await v.sarcophagus.removeBeneficiary(e);return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to remove beneficiary"),e}finally{a(!1)}},U=async()=>k,H=async e=>{if(!v.obol)throw Error("OBOL contract not initialized");try{let[a,t]=await v.obol.calculateWeightedRate(e);return{weightedRate:Number(c.dF(a)),weightMultiplier:Number(t)}}catch(e){throw console.error("Error calculating weighted rate:",e),Error("Failed to calculate weighted rate")}},G=async()=>{if(!v.obol)throw Error("OBOL contract not initialized");try{let e=await v.obol.getEarningRates();return{initialBonusRate:Number(c.dF(e.initialBonusRate)),dailyRate:Number(e.dailyRate),bonusRate:Number(e.bonusRate),maxWeightMultiplier:Number(e.maxWeightMultiplier),weightTimeMultiplier:Number(e.weightTimeMultiplier),weightAmountMultiplier:Number(e.weightAmountMultiplier)}}catch(e){throw console.error("Error getting earning rates:",e),Error("Failed to get earning rates")}},Y=async e=>{if(!v.sarcophagus){console.log("Mock: Withdrawing OBOL tokens",e.toString());let a=Number(c.dF(e)),t=.005*a;return y("Withdrew ".concat((a-t).toFixed(4)," OBOL (").concat(t.toFixed(4)," fee applied) (Mock mode)"),"success"),{wait:async()=>{}}}a(!0),s(null);try{let a=await v.sarcophagus.withdrawObolTokens(e);return await a.wait(),await D(),a}catch(e){throw s(e.reason||e.message||"Failed to withdraw OBOL tokens"),e}finally{a(!1)}},z=async e=>{if(!v.sarcophagus){let a=Number(c.dF(e)),t=.01*a;return{fee:c.fi(t.toString()),net:c.fi((a-t).toString())}}try{let[a,t]=await v.sarcophagus.calculateInheritanceFee(e);return{fee:a,net:t}}catch(e){throw console.error("Error calculating inheritance fee:",e),Error("Failed to calculate inheritance fee")}},$=async e=>{if(!v.sarcophagus){let a=Number(c.dF(e)),t=.005*a;return{fee:c.fi(t.toString()),net:c.fi((a-t).toString())}}try{let[a,t]=await v.sarcophagus.calculateObolWithdrawalFee(e);return{fee:a,net:t}}catch(e){throw console.error("Error calculating OBOL withdrawal fee:",e),Error("Failed to calculate OBOL withdrawal fee")}},q=async()=>{if(!v.sarcophagus)return null;try{let e=await v.sarcophagus.totalInheritanceFeesCollected(),a=await v.sarcophagus.totalObolFeesCollected();return{totalInheritanceFees:e.toString(),totalObolFees:a.toString()}}catch(e){return console.error("Error getting fee statistics:",e),null}},K=async e=>{if(!v.sarcophagus)return null;try{let a=await v.sarcophagus.getWithdrawalEligibility(e);return{canWithdrawPartial:a.canWithdrawPartial,canWithdrawAll:a.canWithdrawAll,canEmergencyWithdraw:a.canEmergencyWithdraw,timeUntilPartialWithdrawal:a.timeUntilPartialWithdrawal.toString(),timeUntilFullWithdrawal:a.timeUntilFullWithdrawal.toString(),timeUntilEmergencyWithdrawal:a.timeUntilEmergencyWithdrawal.toString()}}catch(e){return console.error("Error getting withdrawal eligibility:",e),null}},J=async e=>{if(!v.sarcophagus||!b){y("Please connect your wallet","error");return}try{a(!0);let t=await v.sarcophagus.withdrawPartial(e);await t.wait(),y("Partial withdrawal successful!","success"),await D()}catch(e){console.error("Error withdrawing partial funds:",e),y(e.message||"Failed to withdraw funds","error")}finally{a(!1)}},X=async()=>{if(!v.sarcophagus||!b){y("Please connect your wallet","error");return}try{a(!0);let e=await v.sarcophagus.withdrawAll();await e.wait(),y("Full withdrawal successful!","success"),await D()}catch(e){console.error("Error withdrawing all funds:",e),y(e.message||"Failed to withdraw funds","error")}finally{a(!1)}},Q=async e=>{if(!v.sarcophagus||!b){y("Please connect your wallet","error");return}try{a(!0);let t=await v.sarcophagus.emergencyWithdraw(e);await t.wait(),y("Emergency withdrawal successful!","success"),await D()}catch(e){console.error("Error emergency withdrawing:",e),y(e.message||"Failed to emergency withdraw","error")}finally{a(!1)}};return{loading:e,error:t,userSarcophagus:w,userBeneficiaries:k,isUserVerified:S,hasSarcophagus:C,userStake:O,provider:m,signer:b,contracts:v,createSarcophagus:R,verifyUser:L,depositTokens:B,lockObolTokens:P,withdrawObolTokens:Y,claimObolRewards:V,verifyDeath:F,claimInheritance:W,refreshUserData:D,addBeneficiary:_,getBeneficiaries:U,removeBeneficiary:M,calculateWeightedRate:H,getEarningRates:G,calculateInheritanceFee:z,calculateObolWithdrawalFee:$,getFeeStatistics:q,getWithdrawalEligibility:K,withdrawPartial:J,withdrawAll:X,emergencyWithdraw:Q}}var b=t(1571),f=t(8797);let y=["function createSarcophagusWithGuardians(address[] memory beneficiaries, uint256[] memory percentages, address[] memory guardians, uint256[] memory ages) external","function updateBeneficiaryEnhanced(uint256 index, address contingentBeneficiary, uint256 survivorshipPeriod, address successorGuardian, string memory contactInfo) external","function designateCharity(address charityAddress) external"];function v(e){let{isOpen:a,onClose:t,onComplete:n}=e,{account:c}=(0,b.useWallet)(),{contract:o}=function(e,a){let{address:t}=(0,b.useWallet)(),[s,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{if(window.ethereum&&t)try{let t=new i.Q(window.ethereum),s=await t.getSigner(),r=new l.CH(e,a,s);n(r)}catch(e){console.error("Error initializing contract:",e)}})()},[t,e,a]),{contract:s,address:t}}("SARCOPHAGUS_CONTRACT_ADDRESS",y),[d,u]=(0,r.useState)([{address:"",percentage:100,age:18}]),[h,m]=(0,r.useState)(""),[x,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),v=e=>{if(d.length>1){let a=d.filter((a,t)=>t!==e);if(100!==a.reduce((e,a)=>e+a.percentage,0)){let e=Math.floor(100/a.length),t=100-e*a.length;a.forEach((a,s)=>{a.percentage=e+(s<t?1:0)})}u(a)}},j=(e,a,t)=>{let s=[...d];if(s[e]={...s[e],[a]:t},"percentage"===a){let a=s.reduce((a,t,s)=>s===e?a:a+t.percentage,0)+t;if(a>100){let t=a-100,r=s.filter((a,t)=>t!==e),i=r.reduce((e,a)=>e+a.percentage,0);i>0&&r.forEach((e,a)=>{let s=e.percentage/i*t;e.percentage=Math.max(0,e.percentage-s)})}}u(s)},w=()=>{if(100!==d.reduce((e,a)=>e+a.percentage,0))return!1;for(let e of d)if(!e.address||e.address===c||e.age<0||e.age>120||e.age<18&&!e.guardian||e.survivorshipPeriod&&e.survivorshipPeriod>365)return!1;return!0},N=async()=>{if(w()){f(!0);try{let e=d.map(e=>e.address),a=d.map(e=>100*e.percentage),t=d.map(e=>e.guardian||"0x0000000000000000000000000000000000000000"),s=d.map(e=>e.age);if(o){let r=await o.createSarcophagusWithGuardians(e,a,t,s);await r.wait();for(let e=0;e<d.length;e++){let a=d[e];(a.contingentBeneficiary||a.survivorshipPeriod||a.successorGuardian||a.contactInfo)&&await o.updateBeneficiaryEnhanced(e,a.contingentBeneficiary||"0x0000000000000000000000000000000000000000",a.survivorshipPeriod||0,a.successorGuardian||"0x0000000000000000000000000000000000000000",a.contactInfo||"")}h&&await o.designateCharity(h)}n(d,h)}catch(e){console.error("Error creating sarcophagus:",e)}finally{f(!1)}}},k=d.reduce((e,a)=>e+a.percentage,0);return a?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Designate Beneficiaries"}),(0,s.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Primary Beneficiaries"}),d.map((e,a)=>(0,s.jsxs)("div",{className:"border rounded-lg p-4 mb-4 bg-gray-50",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beneficiary Address"}),(0,s.jsx)("input",{type:"text",value:e.address,onChange:e=>j(a,"address",e.target.value),placeholder:"0x...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Percentage (",e.percentage,"%)"]}),(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:e.percentage,onChange:e=>j(a,"percentage",parseInt(e.target.value)),className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),(0,s.jsx)("input",{type:"number",min:"0",max:"120",value:e.age,onChange:e=>j(a,"age",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.age<18&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guardian Address (Required for minors)"}),(0,s.jsx)("input",{type:"text",value:e.guardian||"",onChange:e=>j(a,"guardian",e.target.value),placeholder:"0x...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x&&(0,s.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-700",children:"Advanced Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contingent Beneficiary"}),(0,s.jsx)("input",{type:"text",value:e.contingentBeneficiary||"",onChange:e=>j(a,"contingentBeneficiary",e.target.value),placeholder:"Backup beneficiary address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Survivorship Period (days)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"365",value:e.survivorshipPeriod||0,onChange:e=>j(a,"survivorshipPeriod",parseInt(e.target.value)),placeholder:"0 = no requirement",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Successor Guardian"}),(0,s.jsx)("input",{type:"text",value:e.successorGuardian||"",onChange:e=>j(a,"successorGuardian",e.target.value),placeholder:"Backup guardian address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Info (IPFS Hash)"}),(0,s.jsx)("input",{type:"text",value:e.contactInfo||"",onChange:e=>j(a,"contactInfo",e.target.value),placeholder:"Qm...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>v(a),className:"text-red-600 hover:text-red-800 text-sm",disabled:1===d.length,children:"Remove Beneficiary"}),(0,s.jsxs)("button",{onClick:()=>g(!x),className:"text-blue-600 hover:text-blue-800 text-sm",children:[x?"Hide":"Show"," Advanced Options"]})]})]},a)),(0,s.jsxs)("button",{onClick:()=>{d.length<5&&u([...d,{address:"",percentage:0,age:18}])},disabled:d.length>=5,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:["Add Beneficiary (",d.length,"/5)"]})]}),(0,s.jsxs)("div",{className:"border-t pt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Charity Fallback"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Designate a charity to receive your estate if all beneficiaries are deceased or incapacitated."}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Charity Address (Optional)"}),(0,s.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"0x...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"border-t pt-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("span",{className:"text-sm font-medium",children:["Total Percentage: ",k,"%"]}),(0,s.jsx)("span",{className:"text-sm ".concat(100===k?"text-green-600":"text-red-600"),children:100===k?"✓ Valid":"✗ Must equal 100%"})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,s.jsx)("div",{children:"• Maximum 5 beneficiaries allowed"}),(0,s.jsx)("div",{children:"• Minors (under 18) require a guardian"}),(0,s.jsx)("div",{children:"• Survivorship periods can be 0-365 days"}),(0,s.jsx)("div",{children:"• Contingent beneficiaries provide backup inheritance"}),(0,s.jsx)("div",{children:"• Charity receives estate if no valid beneficiaries exist"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,s.jsx)("button",{onClick:t,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:N,disabled:!w()||p,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:p?"Creating...":"Create Sarcophagus"})]})]})]})}):null}let j={isProduction:!0,isTestnet:!1,isDevelopment:!1,whoApiEnabled:!0,whoApiUrl:"https://ghoapi.azureedge.net/api",whoApiTimeout:1e4,enableCaching:!0,cacheDuration:864e5,fallbackToStatic:!0},w=()=>j.whoApiEnabled,N=()=>j.isProduction?{title:"Production Mode",description:"Using real WHO API data for life expectancy calculations",dataSource:"WHO Global Health Observatory API"}:j.isTestnet?{title:"Testnet Mode",description:"Using WHO 2023 static data for testing",dataSource:"WHO 2023 Data (Static)"}:{title:"Development Mode",description:"Using WHO 2023 static data for development",dataSource:"WHO 2023 Data (Static)"},k={Japan:{male:81.6,female:87.7},Switzerland:{male:81,female:85.1},Singapore:{male:80.7,female:85.2},Australia:{male:80.5,female:84.5},Spain:{male:80.1,female:85.5},Italy:{male:79.7,female:84.4},Sweden:{male:80.7,female:84},Norway:{male:80.6,female:84.3},Netherlands:{male:79.8,female:83.2},Canada:{male:79.8,female:83.9},"United Kingdom":{male:79.4,female:83.1},Germany:{male:78.9,female:83.6},France:{male:78.4,female:85.2},"United States":{male:76.1,female:81.1},China:{male:75,female:79.4},Brazil:{male:72.8,female:79.6},India:{male:67.5,female:70.2},Russia:{male:66.5,female:77.2},"South Africa":{male:61.5,female:67.7},Nigeria:{male:54.7,female:55.7},Afghanistan:{male:63.7,female:66},Haiti:{male:63.2,female:66.5},"Central African Republic":{male:53.3,female:55.9}},A={Japan:"JPN",Switzerland:"CHE",Singapore:"SGP",Australia:"AUS",Spain:"ESP",Italy:"ITA",Sweden:"SWE",Norway:"NOR",Netherlands:"NLD",Canada:"CAN","United Kingdom":"GBR",Germany:"DEU",France:"FRA","United States":"USA",China:"CHN",Brazil:"BRA",India:"IND",Russia:"RUS","South Africa":"ZAF",Nigeria:"NGA",Afghanistan:"AFG",Haiti:"HTI","Central African Republic":"CAF"};class S{async fetchLifeExpectancyData(e){if(!w())return console.log("WHO API: Using static data for ".concat(e," (WHO API disabled in ").concat(this.config.isProduction?"production":this.config.isTestnet?"testnet":"development",")")),this.getStaticData(e);try{return await this.fetchFromWHOApi(e)}catch(a){return console.error("WHO API: Error fetching data for ".concat(e,":"),a),console.log("WHO API: Falling back to static data for ".concat(e)),this.getStaticData(e)}}async fetchFromWHOApi(e){let a=A[e];if(!a)throw Error("Country code not found for ".concat(e));let t=new Date().getFullYear(),s="".concat(this.config.whoApiUrl,"/Indicator?$filter=IndicatorName eq 'Life expectancy at birth (years)' and SpatialDim eq '").concat(a,"' and TimeDim eq ").concat(t),r=new AbortController,i=setTimeout(()=>r.abort(),this.config.whoApiTimeout);try{let l=await fetch(s,{signal:r.signal,headers:{Accept:"application/json","User-Agent":"Sarcophagus-Protocol/2.0"}});if(clearTimeout(i),!l.ok)throw Error("WHO API responded with status ".concat(l.status));let n=await l.json();if(!n.value||0===n.value.length)throw Error("No data found for ".concat(e," in ").concat(t));let c=n.value.find(e=>"SEX"===e.Dim1&&"MLE"===e.Dim1Value),o=n.value.find(e=>"SEX"===e.Dim1&&"FMLE"===e.Dim1Value),d=n.value.find(e=>"SEX"===e.Dim1&&"BTSX"===e.Dim1Value);return{country:e,countryCode:a,male:(null==c?void 0:c.NumericValue)||0,female:(null==o?void 0:o.NumericValue)||0,both:(null==d?void 0:d.NumericValue)||0,year:t,source:"WHO Global Health Observatory API",lastUpdated:new Date().toISOString()}}catch(e){throw clearTimeout(i),e}}getStaticData(e){let a=k[e];return a?{country:e,countryCode:A[e]||"",male:a.male,female:a.female,both:(a.male+a.female)/2,year:2023,source:"WHO 2023 Data (Static)",lastUpdated:"2023-12-31T23:59:59.999Z"}:null}getAvailableCountries(){return Object.keys(k).sort()}async checkApiHealth(){if(!w())return{available:!1,responseTime:0,error:"WHO API disabled in current environment"};let e=Date.now();try{let a=await fetch("".concat(this.config.whoApiUrl,"/Indicator?$top=1")),t=Date.now()-e;return{available:a.ok,responseTime:t}}catch(a){return{available:!1,responseTime:Date.now()-e,error:a instanceof Error?a.message:"Unknown error"}}}getCacheStats(){return{size:0,entries:[]}}clearCache(){}getEnvironmentInfo(){return{isProduction:this.config.isProduction,isTestnet:this.config.isTestnet,isDevelopment:this.config.isDevelopment,whoApiEnabled:w(),whoApiUrl:this.config.whoApiUrl,whoApiTimeout:this.config.whoApiTimeout}}constructor(){this.config=j}}let E=new S,C={Japan:{male:81.6,female:87.7},Switzerland:{male:81,female:85.1},Singapore:{male:80.7,female:85.2},Australia:{male:80.5,female:84.5},Spain:{male:80.1,female:85.5},Italy:{male:79.7,female:84.4},Sweden:{male:80.7,female:84},Norway:{male:80.6,female:84.3},Netherlands:{male:79.8,female:83.2},Canada:{male:79.8,female:83.9},"United Kingdom":{male:79.4,female:83.1},Germany:{male:78.9,female:83.6},France:{male:78.4,female:85.2},"United States":{male:76.1,female:81.1},China:{male:75,female:79.4},Brazil:{male:72.8,female:79.6},India:{male:67.5,female:70.2},Russia:{male:66.5,female:77.2},"South Africa":{male:61.5,female:67.7},Nigeria:{male:54.7,female:55.7},Afghanistan:{male:63.7,female:66},Haiti:{male:63.2,female:66.5},"Central African Republic":{male:53.3,female:55.9}},T={smoking:{never:0,former:-2,current:-8},exercise:{sedentary:-3,moderate:0,active:2},bmi:{underweight:-2,normal:0,overweight:-1,obese:-3},education:{low:-2,medium:0,high:1},income:{low:-3,medium:0,high:1}};async function O(e){var a,t,s;let r,i,l,n;if(w())try{let a=await E.fetchLifeExpectancyData(e.country);if(a)r="female"===e.gender?a.female:a.male,i="WHO API",l=a.lastUpdated,console.log("Using WHO API data for ".concat(e.country,": ").concat(r," years"));else throw Error("No WHO API data available")}catch(t){console.warn("WHO API failed for ".concat(e.country,", falling back to static data:"),t);let a=C[e.country];if(!a)throw Error("Life expectancy data not available for ".concat(e.country));r="female"===e.gender?a.female:a.male,i="Static Data",l="2023-12-31T23:59:59.999Z"}else{let a=C[e.country];if(!a)throw Error("Life expectancy data not available for ".concat(e.country));r="female"===e.gender?a.female:a.male,i="Static Data",l="2023-12-31T23:59:59.999Z"}let c=(a=e.bmi)<18.5?"underweight":a<25?"normal":a<30?"overweight":"obese",o=T.smoking[e.smokingStatus],d=T.exercise[e.exerciseLevel],u=T.bmi[c],h=T.education[e.education],m=T.income[e.income],x=Math.max(50,r+(t=e.age,s=o+d+u+h+m,t<30?1.2*s:t<50?1*s:t<70?.8*s:.6*s)),g=(n=0,(e.country&&e.age&&e.gender&&(n+=3),e.smokingStatus&&(n+=1),e.exerciseLevel&&(n+=1),e.bmi>0&&(n+=1),e.education&&(n+=1),e.income&&(n+=1),n>=6)?"high":n>=4?"medium":"low"),p=N();return{baseLifeExpectancy:Math.round(10*r)/10,adjustedLifeExpectancy:Math.round(10*x)/10,factors:{country:Math.round(10*r)/10,smoking:o,exercise:d,bmi:u,education:h,income:m},confidence:g,source:"".concat(p.dataSource," + Actuarial Adjustments"),dataSource:i,lastUpdated:l}}let I=e=>{let a=4.7;"male"===e.gender?a*=1.15:"female"===e.gender&&(a*=.85);let t={US:1.8,Canada:1.6,UK:1.2,Germany:1.3,France:1.1,Japan:1,China:.8,India:.4,Brazil:.6,Nigeria:.3,Kenya:.2,Ethiopia:.1};return e.country&&t[e.country]&&(a*=t[e.country]),e.age<25?a*=.9:e.age>65&&(a*=.8),"current"===e.smokingStatus&&(a*=1.05),"active"===e.exerciseLevel?a*=1.1:"sedentary"===e.exerciseLevel&&(a*=.95),Math.round(100*a)/100};function D(e){let{isOpen:a,onComplete:t,onClose:i}=e,[l,n]=(0,r.useState)(0),[c,o]=(0,r.useState)({age:"30",gender:"male",country:"United States",height:"69",weight:"154",smokingStatus:"never",exerciseLevel:"moderate",education:"medium",income:"medium",beneficiaries:[{address:"",percentage:"100"}],lifeExpectancy:null}),[d,u]=(0,r.useState)([]),{verifyUser:h}=p(),{showNotification:m}=(0,g.useNotification)(),{isLoading:x,setLoading:y}=(0,f.useLoading)(),{account:v}=(0,b.useWallet)(),j=(0,r.useMemo)(()=>c.beneficiaries.reduce((e,a)=>e+(parseInt(a.percentage)||0),0),[c.beneficiaries]),w=(0,r.useMemo)(()=>c.age&&c.gender&&c.country?I({age:parseInt(c.age),gender:c.gender,country:c.country,smokingStatus:c.smokingStatus||"never",exerciseLevel:c.exerciseLevel||"moderate",bmi:25,education:c.education||"medium",income:c.income||"medium"}):null,[c]),N=(e,a)=>{o(t=>({...t,[e]:a})),u([])},k=async()=>{let e={country:c.country,age:parseInt(c.age),gender:c.gender,smokingStatus:c.smokingStatus,exerciseLevel:c.exerciseLevel,bmi:c.height&&c.weight?703*parseFloat(c.weight)/parseFloat(c.height)**2:22,education:c.education,income:c.income},a=function(e){let a=[];return e.country||a.push("Country is required"),(!e.age||e.age<18||e.age>120)&&a.push("Valid age (18-120) is required"),e.gender||a.push("Gender is required"),e.bmi&&(e.bmi<10||e.bmi>60)&&a.push("BMI must be between 10-60"),a}(e);if(a.length>0){u(a);return}try{y(!0);let a=await O(e);N("lifeExpectancy",a),u([]),"WHO API"===a.dataSource?m("Life expectancy calculated using real WHO data (".concat(a.lastUpdated,")"),"success"):m("Life expectancy calculated using WHO 2023 data (development mode)","info")}catch(e){e instanceof Error?u([e.message]):u(["An unknown error occurred."])}finally{y(!1)}},A=[{id:"welcome",title:"Welcome to Sarcophagus",description:"Secure your digital legacy on the blockchain.",component:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"text-6xl",children:"⚰️"}),(0,s.jsx)("p",{className:"text-sarcophagus-300",children:"This wizard will guide you through creating a new Sarcophagus vault to protect your assets."})]})},{id:"basic-info",title:"Basic Information",description:"This anonymous data helps calculate your life expectancy for the smart contract.",component:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-sarcophagus-200",children:"Age *"}),(0,s.jsx)("input",{type:"number",value:c.age,onChange:e=>N("age",e.target.value),className:"w-full p-2 bg-sarcophagus-700 rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-sarcophagus-200",children:"Gender *"}),(0,s.jsxs)("select",{value:c.gender,onChange:e=>N("gender",e.target.value),className:"w-full p-2 bg-sarcophagus-700 rounded",children:[(0,s.jsx)("option",{value:"male",children:"Male"}),(0,s.jsx)("option",{value:"female",children:"Female"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-sarcophagus-200",children:"Country of Residence *"}),(0,s.jsx)("select",{value:c.country,onChange:e=>N("country",e.target.value),className:"w-full p-2 bg-sarcophagus-700 rounded",children:E.getAvailableCountries().map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})]})},{id:"life-expectancy",title:"Life Expectancy Factors",description:"These additional factors provide a more accurate estimate.",component:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-sarcophagus-200",children:"Height (in)"}),(0,s.jsx)("input",{type:"number",value:c.height,onChange:e=>N("height",e.target.value),className:"w-full p-2 bg-sarcophagus-700 rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-sarcophagus-200",children:"Weight (lbs)"}),(0,s.jsx)("input",{type:"number",value:c.weight,onChange:e=>N("weight",e.target.value),className:"w-full p-2 bg-sarcophagus-700 rounded"})]})]}),(0,s.jsx)("button",{onClick:k,className:"w-full py-2 bg-sarcophagus-700 hover:bg-sarcophagus-600 rounded",children:"Calculate My Life Expectancy"}),c.lifeExpectancy&&(0,s.jsx)("div",{className:"text-center p-3 bg-sarcophagus-800 rounded-lg",children:(0,s.jsxs)("p",{className:"text-lg",children:["Estimated Life Expectancy: ",(0,s.jsxs)("span",{className:"font-bold text-white",children:[c.lifeExpectancy.adjustedLifeExpectancy," years"]})]})})]})},{id:"verification",title:"Identity Verification",description:"You need to be verified before creating a vault. For testing, we'll use a simple verification.",component:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-sarcophagus-800 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sarcophagus-300 mb-4",children:"For testing purposes, we'll automatically verify your identity using your wallet address and provided information."}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Wallet Address:"})," ",v?"".concat(v.slice(0,6),"...").concat(v.slice(-4)):"Not connected"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Age:"})," ",c.age]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Gender:"})," ",c.gender]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Country:"})," ",c.country]}),c.lifeExpectancy&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Life Expectancy:"})," ",c.lifeExpectancy.adjustedLifeExpectancy," years"]}),w&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Personalized Carbon Footprint:"})," ",w," tons CO2/year"]})]})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{onClick:async()=>{if(!v){u(["Please connect your wallet first."]);return}try{y("verifyUser",!0);let e="ipfs://verification-".concat(Date.now());await h(v,parseInt(c.age),e),m("Identity verified successfully!","success"),u([])}catch(e){console.error("Verification error:",e),u(["Failed to verify identity. Please try again."])}finally{y("verifyUser",!1)}},disabled:x.verifyUser||!c.age||!v,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 rounded",children:x.verifyUser?"Verifying...":"Verify My Identity"})})]})},{id:"beneficiaries",title:"Beneficiaries",description:"Who will inherit your assets?",component:(0,s.jsxs)("div",{className:"space-y-4",children:[c.beneficiaries.map((e,a)=>(0,s.jsxs)("div",{className:"p-3 bg-sarcophagus-800 rounded-lg space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-sarcophagus-200",children:"Wallet Address *"}),(0,s.jsx)("input",{type:"text",value:c.beneficiaries[a].address,onChange:e=>{let t=[...c.beneficiaries];t[a].address=e.target.value,N("beneficiaries",t)},placeholder:"0x...",className:"w-full p-2 bg-sarcophagus-700 rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-sarcophagus-200",children:"Percentage *"}),(0,s.jsx)("input",{type:"number",value:c.beneficiaries[a].percentage,onChange:e=>{let t=[...c.beneficiaries];t[a].percentage=e.target.value,N("beneficiaries",t)},placeholder:"%",className:"w-full p-2 bg-sarcophagus-700 rounded"})]})]},a)),100!==j&&(0,s.jsxs)("p",{className:"text-red-400 text-center",children:["Percentages must add up to 100%. Current: ",j,"%"]})]})},{id:"summary",title:"Summary & Confirmation",description:"Review your details and create your Sarcophagus.",component:(0,s.jsxs)("div",{className:"space-y-3 text-sarcophagus-300",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Age:"})," ",c.age,", ",(0,s.jsx)("strong",{children:"Gender:"})," ",c.gender,", ",(0,s.jsx)("strong",{children:"Country:"})," ",c.country]}),c.lifeExpectancy&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Est. Life Expectancy:"})," ",c.lifeExpectancy.adjustedLifeExpectancy," years"]}),w&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Personalized Carbon Footprint:"})," ",w," tons CO2/year"]}),(0,s.jsx)("h4",{className:"font-bold pt-2 border-t border-sarcophagus-600",children:"Beneficiaries"}),c.beneficiaries.map((e,a)=>(0,s.jsxs)("p",{children:[e.address.slice(0,10),"... gets ",e.percentage,"%"]},a))]})}],S=()=>{switch(A[l].id){case"basic-info":return!!(c.age&&c.gender&&c.country);case"life-expectancy":return null!==c.lifeExpectancy;case"verification":case"summary":default:return!0;case"beneficiaries":return 100===j&&c.beneficiaries.every(e=>e.address&&e.percentage)}};return a?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-sarcophagus-900 border border-sarcophagus-700 rounded-lg w-full max-w-lg flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-sarcophagus-700",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white",children:A[l].title}),(0,s.jsx)("p",{className:"text-sm text-sarcophagus-400",children:A[l].description})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto",children:A[l].component}),(0,s.jsxs)("div",{className:"p-4 border-t border-sarcophagus-700 flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>n(e=>e-1),disabled:0===l,className:"px-4 py-2 rounded bg-sarcophagus-700 disabled:opacity-50",children:"Back"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[d.length>0&&(0,s.jsx)("div",{className:"text-red-400 text-sm",children:d[0]}),(0,s.jsx)("button",{onClick:l===A.length-1?()=>t(c):()=>{S()&&n(e=>e+1)},disabled:!S(),className:"px-4 py-2 rounded bg-purple-600 text-white disabled:opacity-50",children:l===A.length-1?"Create Vault":"Next"})]})]})]})}):null}function L(e){let{vault:a,isOpen:t,onClose:i,defaultTab:l}=e,{showNotification:n}=(0,g.useNotification)(),{isLoading:c}=(0,f.useLoading)(),[o,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[v,j]=(0,r.useState)(l||"deposit"),{depositTokens:w,lockObolTokens:N,refreshUserData:k}=p();(0,r.useEffect)(()=>{l&&j(l)},[l]);let A=async()=>{if(!o&&!u&&!m){n("Please enter at least one token amount","warning");return}try{let e=await w(u||"0",m||"0");n("Depositing tokens...","info"),await e.wait(),n("Tokens deposited successfully!","success"),await k(),d(""),h(""),x("")}catch(e){console.error("Error depositing tokens:",e),n("Failed to deposit tokens","error")}},S=async()=>{if(!b){n("Please enter OBOL amount","warning");return}try{let e=await N(b);n("Locking OBOL tokens...","info"),await e.wait(),n("OBOL tokens locked successfully!","success"),await k(),y("")}catch(e){console.error("Error locking OBOL tokens:",e),n("Failed to lock OBOL tokens","error")}};return t&&a?(0,s.jsx)("div",{className:"fixed inset-0 bg-sarcophagus-950/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-sarcophagus-900 border border-sarcophagus-700 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-sarcophagus-700",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-sarcophagus-100",children:["Manage Vault #",a.id]}),(0,s.jsx)("button",{onClick:i,className:"text-sarcophagus-400 hover:text-sarcophagus-200 transition-colors",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsxs)("div",{className:"flex border-b border-sarcophagus-700",children:[(0,s.jsx)("button",{onClick:()=>j("deposit"),className:"px-6 py-3 text-sm font-medium transition-colors ".concat("deposit"===v?"text-accent-gold border-b-2 border-accent-gold":"text-sarcophagus-400 hover:text-sarcophagus-200"),children:"Deposit Tokens"}),(0,s.jsx)("button",{onClick:()=>j("obol"),className:"px-6 py-3 text-sm font-medium transition-colors ".concat("obol"===v?"text-accent-gold border-b-2 border-accent-gold":"text-sarcophagus-400 hover:text-sarcophagus-200"),children:"OBOL Rewards"}),(0,s.jsx)("button",{onClick:()=>j("b3tr"),className:"px-6 py-3 text-sm font-medium transition-colors ".concat("b3tr"===v?"text-accent-gold border-b-2 border-accent-gold":"text-sarcophagus-400 hover:text-sarcophagus-200"),children:"B3TR Rewards"}),(0,s.jsx)("button",{onClick:()=>j("beneficiaries"),className:"px-6 py-3 text-sm font-medium transition-colors ".concat("beneficiaries"===v?"text-accent-gold border-b-2 border-accent-gold":"text-sarcophagus-400 hover:text-sarcophagus-200"),children:"Beneficiaries"}),(0,s.jsx)("button",{onClick:()=>j("info"),className:"px-6 py-3 text-sm font-medium transition-colors ".concat("info"===v?"text-accent-gold border-b-2 border-accent-gold":"text-sarcophagus-400 hover:text-sarcophagus-200"),children:"Vault Info"})]}),(0,s.jsxs)("div",{className:"p-6",children:["deposit"===v&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-sarcophagus-100 mb-4",children:"Deposit Tokens"}),(0,s.jsx)("p",{className:"text-sarcophagus-400 mb-4",children:"Deposit VET, VTHO, or B3TR tokens into your vault. Earn $B3TR rewards upon inheritance!"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-sarcophagus-300 mb-2",children:"VET Amount"}),(0,s.jsx)("input",{type:"number",value:o,onChange:e=>d(e.target.value),placeholder:"0.0",className:"w-full bg-sarcophagus-800 border border-sarcophagus-600 rounded-lg px-4 py-2 text-sarcophagus-100 placeholder-sarcophagus-500 focus:outline-none focus:border-accent-gold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-sarcophagus-300 mb-2",children:"VTHO Amount"}),(0,s.jsx)("input",{type:"number",value:u,onChange:e=>h(e.target.value),placeholder:"0.0",className:"w-full bg-sarcophagus-800 border border-sarcophagus-600 rounded-lg px-4 py-2 text-sarcophagus-100 placeholder-sarcophagus-500 focus:outline-none focus:border-accent-gold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-sarcophagus-300 mb-2",children:"B3TR Amount"}),(0,s.jsx)("input",{type:"number",value:m,onChange:e=>x(e.target.value),placeholder:"0.0",className:"w-full bg-sarcophagus-800 border border-sarcophagus-600 rounded-lg px-4 py-2 text-sarcophagus-100 placeholder-sarcophagus-500 focus:outline-none focus:border-accent-gold"})]})]}),(0,s.jsx)("button",{onClick:A,disabled:c.depositTokens,className:"w-full mt-6 bg-gradient-to-r from-accent-gold to-accent-bronze text-sarcophagus-950 py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50",children:c.depositTokens?"Depositing...":"Deposit Tokens"})]})}),"obol"===v&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-sarcophagus-100 mb-4",children:"$OBOL Rewards & Locking"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-accent-gold",children:a.obolRewards}),(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"$OBOL Earned"})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-400",children:a.obolLocked}),(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"$OBOL Locked"})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:"10:1"}),(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"Reward Rate"})]})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/50 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-accent-gold mb-3",children:"Lock $OBOL Tokens"}),(0,s.jsx)("p",{className:"text-sarcophagus-400 text-sm mb-4",children:"Lock your earned $OBOL tokens in the vault. They will be distributed to beneficiaries upon death verification."}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-sarcophagus-300 mb-2",children:"$OBOL Amount to Lock"}),(0,s.jsx)("input",{type:"number",value:b,onChange:e=>y(e.target.value),placeholder:"0.0",className:"w-full bg-sarcophagus-800 border border-sarcophagus-600 rounded-lg px-4 py-2 text-sarcophagus-100 placeholder-sarcophagus-500 focus:outline-none focus:border-accent-gold"})]}),(0,s.jsx)("button",{onClick:S,disabled:c.lockObol,className:"w-full bg-gradient-to-r from-accent-gold to-accent-bronze text-sarcophagus-950 py-2 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50",children:c.lockObol?"Locking...":"Lock $OBOL Tokens"})]})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/30 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-accent-gold mb-2",children:"Reward Information"}),(0,s.jsxs)("ul",{className:"text-sarcophagus-400 text-sm space-y-1",children:[(0,s.jsx)("li",{children:"• Earn 1 $OBOL for every 1 VET deposited"}),(0,s.jsx)("li",{children:"• Rewards are automatically minted on deposit"}),(0,s.jsx)("li",{children:"• Lock $OBOL tokens to include them in inheritance"}),(0,s.jsx)("li",{children:"• Total supply: 100,000,000 $OBOL"}),(0,s.jsx)("li",{children:"• 95% of supply distributed as rewards"})]})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/30 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-accent-gold mb-2",children:"OBOL Grandfathering"}),(0,s.jsx)("p",{className:"text-sarcophagus-400 text-sm mb-3",children:"When beneficiaries inherit, they can preserve the same $OBOL earning rate by creating a new vault and locking their inheritance within 90 days."}),(0,s.jsxs)("ul",{className:"text-sarcophagus-400 text-sm space-y-1",children:[(0,s.jsx)("li",{children:"• Beneficiaries can create vaults anytime (no time limit)"}),(0,s.jsx)("li",{children:"• 90-day deadline is ONLY for preserving the original OBOL rate"}),(0,s.jsx)("li",{children:"• Lock inheritance within 90 days → Get deceased user's OBOL rate"}),(0,s.jsx)("li",{children:"• Lock inheritance after 90 days → Get standard new user OBOL rate"}),(0,s.jsx)("li",{children:"• No vault creation → No continuous OBOL earning"}),(0,s.jsx)("li",{children:"• This preserves generational wealth through OBOL earning"})]})]})]})}),"b3tr"===v&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-sarcophagus-100 mb-4",children:"$B3TR Rewards"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-400",children:"Personalized"}),(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"Carbon Footprint/Year"})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:"100 B3TR"}),(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"For Reaching Life Expectancy + Per Year Past"})]})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4 mb-6",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-accent-gold mb-3",children:"Carbon & Legacy Rewards"}),(0,s.jsx)("p",{className:"text-sarcophagus-400 text-sm mb-4",children:"When beneficiaries inherit, they receive $B3TR rewards based on carbon saved and legacy bonuses."}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sarcophagus-400 text-sm",children:"Carbon Offset:"}),(0,s.jsx)("span",{className:"text-green-400 font-semibold",children:"Years saved \xd7 personalized CO2 footprint/year"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sarcophagus-400 text-sm",children:"Legacy Bonus:"}),(0,s.jsx)("span",{className:"text-blue-400 font-semibold",children:"100 B3TR for reaching life expectancy + 100 B3TR per year past it"})]})]})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-accent-gold mb-2",children:"Carbon & Legacy Reward Information"}),(0,s.jsxs)("ul",{className:"text-sarcophagus-400 text-sm space-y-1",children:[(0,s.jsx)("li",{children:"• Carbon offset: Years of life saved \xd7 personalized CO2 footprint/year"}),(0,s.jsx)("li",{children:"• Legacy bonus: 100 B3TR for reaching your life expectancy + 100 B3TR for each year past it"}),(0,s.jsx)("li",{children:"• Rewards are paid immediately upon inheritance claim"}),(0,s.jsx)("li",{children:"• Sustainable rewards from Vebetter DAO"}),(0,s.jsx)("li",{children:"• No additional requirements or time limits"})]})]})]})}),"beneficiaries"===v&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-sarcophagus-100 mb-4",children:"Beneficiaries"}),(0,s.jsx)("div",{className:"space-y-3",children:a.beneficiaries.map((e,a)=>(0,s.jsx)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sarcophagus-100 font-medium",children:[e.address.slice(0,6),"...",e.address.slice(-4)]}),(0,s.jsxs)("div",{className:"text-sarcophagus-400 text-sm",children:["Beneficiary #",a+1]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-accent-gold font-semibold",children:[e.percentage,"%"]}),(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"Share"})]})]})},a))}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-sarcophagus-800/30 border border-sarcophagus-700 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-accent-gold mb-2",children:"Distribution Details"}),(0,s.jsx)("p",{className:"text-sarcophagus-400 text-sm",children:"Upon death verification, all locked tokens (VET, VTHO, B3TR, and $OBOL) will be distributed to beneficiaries according to their percentage shares, plus $B3TR carbon offset and legacy bonuses."})]})]})}),"info"===v&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-sarcophagus-100 mb-4",children:"Vault Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"Total Value"}),(0,s.jsx)("div",{className:"text-sarcophagus-100 font-semibold",children:a.totalValue})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"Life Expectancy"}),(0,s.jsxs)("div",{className:"text-sarcophagus-100 font-semibold",children:[a.lifeExpectancy," years"]})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"Created"}),(0,s.jsx)("div",{className:"text-sarcophagus-100 font-semibold",children:a.createdAt.toLocaleDateString()})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"Status"}),(0,s.jsx)("div",{className:"font-semibold ".concat("active"===a.status?"text-green-400":"pending"===a.status?"text-accent-gold":"text-blue-400"),children:a.status.toUpperCase()})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"$B3TR Carbon Offset"}),(0,s.jsx)("div",{className:"text-green-400 font-semibold",children:"Years saved \xd7 personalized CO2 footprint/year"})]}),(0,s.jsxs)("div",{className:"bg-sarcophagus-800/80 border border-sarcophagus-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-sarcophagus-400 text-sm",children:"$B3TR Legacy Bonus"}),(0,s.jsx)("div",{className:"text-blue-400 font-semibold",children:"100 B3TR for reaching life expectancy + 100 B3TR per year past it"})]})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-sarcophagus-800/30 border border-sarcophagus-700 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-accent-gold mb-2",children:"Vault Security"}),(0,s.jsxs)("ul",{className:"text-sarcophagus-400 text-sm space-y-1",children:[(0,s.jsx)("li",{children:"• Smart contract secured on VeChain blockchain"}),(0,s.jsx)("li",{children:"• Death verification required for distribution"}),(0,s.jsx)("li",{children:"• Anti-farming measures prevent abuse"}),(0,s.jsx)("li",{children:"• Rate limiting on deposits"}),(0,s.jsx)("li",{children:"• Minimum lock periods enforced"})]})]})]})})]})]})}):null}var R=t(2349);function B(){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-purple-600 rounded-full flex items-center justify-center mb-6",children:(0,s.jsx)("span",{className:"text-3xl",children:"⚰️"})}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Welcome to Sarcophagus Protocol"}),(0,s.jsx)("p",{className:"text-xl text-gray-400 mb-8",children:"Secure your digital legacy with the most advanced inheritance protocol on VeChain"}),(0,s.jsx)(R.TI,{})]})}function P(){let[e,a]=(0,r.useState)(!0);return(0,s.jsx)(D,{isOpen:e,onClose:()=>a(!1),onComplete:()=>a(!1)})}function V(e){let{onClose:a}=e,{createSarcophagus:t}=p(),{showNotification:i}=(0,g.useNotification)(),{isLoading:l,setLoading:n}=(0,f.useLoading)(),[c,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(1),[h,m]=(0,r.useState)(!1),[x,b]=(0,r.useState)({irrevocable:!1,timeLock:!1,penalties:!1,deathOnly:!1,legal:!1}),y=async(e,s)=>{try{n("createVault",!0);let s=e.map(e=>e.address),r=e.map(e=>100*e.percentage);await t(s,r),i("Vault created successfully!","success"),a()}catch(e){console.error("Error creating vault:",e),i("Failed to create vault. Please try again.","error")}finally{n("createVault",!1),o(!1)}},j=e=>{b(a=>({...a,[e]:!a[e]}))},w=Object.values(x).every(Boolean);return c?(0,s.jsx)(v,{isOpen:c,onClose:()=>o(!1),onComplete:y}):1===d?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[(0,s.jsx)("div",{className:"text-red-600 text-3xl mr-3",children:"⚠️"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"CRITICAL WARNINGS"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"border-2 border-red-300 rounded-lg p-4 bg-red-50",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:x.irrevocable,onChange:()=>j("irrevocable"),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-red-800 text-lg mb-2",children:"\uD83D\uDD12 IRREVOCABLE COMMITMENT"}),(0,s.jsxs)("p",{className:"text-red-700",children:[(0,s.jsx)("strong",{children:"Your vault is IRREVOCABLE for 7 years."})," Once created, you CANNOT withdraw any funds for 7 years, regardless of circumstances. This is a permanent, life-changing decision."]})]})]})}),(0,s.jsx)("div",{className:"border-2 border-orange-300 rounded-lg p-4 bg-orange-50",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:x.timeLock,onChange:()=>j("timeLock"),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-orange-800 text-lg mb-2",children:"⏰ SEVERE TIME LOCK"}),(0,s.jsxs)("p",{className:"text-orange-700",children:[(0,s.jsx)("strong",{children:"7-year complete lock:"})," No withdrawals of any kind for 7 years.",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"15-year partial access:"})," Only 30% withdrawal with 35% penalty.",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Emergency access:"})," 90% penalty after 7 years."]})]})]})}),(0,s.jsx)("div",{className:"border-2 border-purple-300 rounded-lg p-4 bg-purple-50",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:x.deathOnly,onChange:()=>j("deathOnly"),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-purple-800 text-lg mb-2",children:"\uD83D\uDC80 DEATH-TRIGGERED ONLY"}),(0,s.jsxs)("p",{className:"text-purple-700",children:[(0,s.jsx)("strong",{children:"Funds are ONLY released upon your verified death."})," This is not a savings account or investment vehicle. Your beneficiaries receive funds only after you die and death is verified by oracles."]})]})]})}),(0,s.jsx)("div",{className:"border-2 border-yellow-300 rounded-lg p-4 bg-yellow-50",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:x.penalties,onChange:()=>j("penalties"),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-yellow-800 text-lg mb-2",children:"\uD83D\uDCB8 SEVERE PENALTIES"}),(0,s.jsxs)("p",{className:"text-yellow-700",children:[(0,s.jsx)("strong",{children:"Partial withdrawal:"})," 35% penalty (you lose 35% of what you withdraw)",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Full withdrawal:"})," 20% penalty",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Emergency withdrawal:"})," 90% penalty (you lose 90% of your funds)"]})]})]})}),(0,s.jsx)("div",{className:"border-2 border-blue-300 rounded-lg p-4 bg-blue-50",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:x.legal,onChange:()=>j("legal"),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-blue-800 text-lg mb-2",children:"⚖️ LEGAL IMPLICATIONS"}),(0,s.jsxs)("p",{className:"text-blue-700",children:[(0,s.jsx)("strong",{children:"This is a legally binding inheritance contract."})," Consult with legal professionals about inheritance laws in your jurisdiction. This may affect your estate planning, taxes, and legal obligations."]})]})]})})]}),(0,s.jsxs)("div",{className:"mt-8 p-4 bg-red-100 border-2 border-red-400 rounded-lg",children:[(0,s.jsx)("h3",{className:"font-bold text-red-800 text-lg mb-2",children:"\uD83D\uDEA8 FINAL WARNING"}),(0,s.jsxs)("p",{className:"text-red-700",children:[(0,s.jsx)("strong",{children:"By creating this vault, you are making a permanent, irrevocable commitment to lock your funds until death or severe penalties."})," This decision cannot be undone. Are you absolutely certain you understand the implications?"]})]}),(0,s.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,s.jsx)("button",{onClick:a,className:"flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg hover:bg-gray-600",children:"CANCEL - I'm Not Ready"}),(0,s.jsx)("button",{onClick:()=>u(2),disabled:!w,className:"flex-1 bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"I UNDERSTAND - Continue"})]})]})})}):h?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full",children:(0,s.jsxs)("div",{className:"p-6 text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDC80"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"LAST CHANCE TO CANCEL"}),(0,s.jsxs)("p",{className:"text-gray-700 mb-6",children:[(0,s.jsx)("strong",{children:"Are you absolutely certain?"}),(0,s.jsx)("br",{}),"This vault will be irrevocable for 7 years.",(0,s.jsx)("br",{}),"You will lose 90% of your funds if you need emergency access.",(0,s.jsx)("br",{}),"This is a permanent, life-changing decision."]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{onClick:()=>m(!1),className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700",children:"CANCEL - I'm Not Ready"}),(0,s.jsx)("button",{onClick:()=>{o(!0)},className:"flex-1 bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700",children:"YES - Create Vault"})]})]})})}):(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-lg w-full",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create Inheritance Vault"}),(0,s.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,s.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,s.jsx)("strong",{children:"Final reminder:"})," This vault will be irrevocable for 7 years with severe penalties for early withdrawal."]})}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Vault creation form components would be here..."})}),(0,s.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,s.jsx)("button",{onClick:()=>u(1),className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600",children:"Back to Warnings"}),(0,s.jsx)("button",{onClick:()=>m(!0),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Create Vault"})]})]})})})}let F={verifyDeath:async(e,a,t)=>({isVerified:!1,confidence:"low"})};function W(){let{claimInheritance:e}=p(),{showNotification:a}=(0,g.useNotification)(),{isLoading:t,setLoading:i}=(0,f.useLoading)(),[l,n]=(0,r.useState)(""),[c,o]=(0,r.useState)("idle"),[d,u]=(0,r.useState)(null),[h,m]=(0,r.useState)(null),[x,b]=(0,r.useState)([]),[y,v]=(0,r.useState)(""),j=async()=>{if(!l){a("Please enter the deceased address","error");return}o("pending");try{let e=await F.verifyDeath(l,"1950-01-01","US");u(e),o(e.isVerified?"verified":"failed"),e.isVerified&&m({vetAmount:BigInt("1000000000000000000000"),vthoAmount:BigInt("50000000000000000000000"),b3trAmount:BigInt("10000000000000000000000"),obolAmount:BigInt("5000000000000000000000")})}catch(e){o("failed"),a("Death verification failed","error")}},w=async()=>{if(!l){a("Please enter the deceased address","error");return}if("verified"!==c){a("Death must be verified before claiming","error");return}i("claimInheritance",!0);try{let t=await e(l);await t.wait(),a("Inheritance claimed successfully!","success"),n(""),o("idle"),u(null),m(null)}catch(e){console.error("Error claiming inheritance:",e),a("Failed to claim inheritance","error")}i("claimInheritance",!1)},N=(()=>{if(!h)return{total:0,fee:0,net:0};let e=h.vetAmount/1e18*.023+h.vthoAmount/1e18*8e-4+h.b3trAmount/1e18*.15,a=.01*e;return{total:e,fee:a,net:e-a}})();return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent mb-4",children:"Claim Inheritance"}),(0,s.jsx)("p",{className:"text-xl text-gray-300",children:"Access your inherited digital assets"})]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-sm border border-green-500/20 rounded-lg p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDCB0"}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Inheritance Available"}),(0,s.jsx)("p",{className:"text-gray-300 mb-8 max-w-2xl mx-auto",children:"A loved one has designated you as a beneficiary of their digital inheritance. You can now claim your share of the assets stored in their Sarcophagus vault."})]}),(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deceased Address"}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value),placeholder:"0x...",className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-green-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the wallet address of the deceased person"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("button",{onClick:j,disabled:"pending"===c||!l,className:"w-full px-6 py-2 mb-2 bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 rounded-lg text-white font-semibold transition-all disabled:opacity-50",children:"pending"===c?"Verifying...":"Verify Death"}),"verified"===c&&(0,s.jsxs)("div",{className:"text-green-400 text-sm mt-2",children:["Death verified! (Confidence: ",null==d?void 0:d.confidence,")"]}),"failed"===c&&(0,s.jsx)("div",{className:"text-red-400 text-sm mt-2",children:"Death could not be verified. Please check the address or try again."})]}),"verified"===c&&h&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-600",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Inheritance Breakdown"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-300",children:"Total Value:"}),(0,s.jsxs)("span",{className:"text-white",children:["$",N.total.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-yellow-400",children:[(0,s.jsx)("span",{children:"Transfer Fee (1%):"}),(0,s.jsxs)("span",{children:["-$",N.fee.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-600 pt-2 flex justify-between text-green-400 font-semibold",children:[(0,s.jsx)("span",{children:"You Receive:"}),(0,s.jsxs)("span",{children:["$",N.net.toFixed(2)]})]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Fee covers protocol maintenance and verification costs"})]}),(0,s.jsx)("button",{onClick:w,disabled:t.claimInheritance||"verified"!==c,className:"w-full px-6 py-3 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 rounded-lg text-white font-semibold transition-all disabled:opacity-50",children:t.claimInheritance?"Claiming...":"Claim Inheritance"})]}),(0,s.jsxs)("div",{className:"mt-8 text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"You will receive your share of VET, VTHO, B3TR, and OBOL tokens, plus additional B3TR bonuses for carbon offset and legacy preservation."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"A 1% transfer fee applies to cover protocol costs"})]})]})]})}let _={vet:"vechain",vtho:"vechainthor",b3tr:"b3tr",obol:"obol"},M={vet:{id:"vechain",symbol:"vet",name:"VeChain",current_price:.023,market_cap:167e7,total_volume:25e6,price_change_24h:.001,price_change_percentage_24h:4.5,last_updated:new Date().toISOString()},vtho:{id:"vechainthor",symbol:"vtho",name:"VeThor Token",current_price:8e-4,market_cap:32e6,total_volume:5e5,price_change_24h:1e-4,price_change_percentage_24h:14.3,last_updated:new Date().toISOString()},b3tr:{id:"b3tr",symbol:"b3tr",name:"B3TR Token",current_price:.15,market_cap:15e6,total_volume:1e5,price_change_24h:.02,price_change_percentage_24h:15.4,last_updated:new Date().toISOString()},obol:{id:"obol",symbol:"obol",name:"OBOL Token",current_price:.05,market_cap:5e6,total_volume:5e4,price_change_24h:.01,price_change_percentage_24h:25,last_updated:new Date().toISOString()}};class U{async fetchAllTokenPrices(){if(this.config.isDevelopment||this.config.isTestnet)return this.getStaticPrices();try{let[e,a,t,s]=await Promise.allSettled([this.fetchTokenPrice("vet"),this.fetchTokenPrice("vtho"),this.fetchTokenPrice("b3tr"),this.fetchTokenPrice("obol")]);return{vet:"fulfilled"===e.status?e.value:M.vet,vtho:"fulfilled"===a.status?a.value:M.vtho,b3tr:"fulfilled"===t.status?t.value:M.b3tr,obol:"fulfilled"===s.status?s.value:M.obol,lastUpdated:new Date().toISOString()}}catch(e){return console.error("Error fetching token prices:",e),this.getStaticPrices()}}async fetchTokenPrice(e){let a="price_".concat(e),t=this.cache.get(a);if(t&&Date.now()-t.timestamp<this.CACHE_DURATION)return t.data;try{let t=_[e];if(!t)return console.warn("Token ID not found for ".concat(e)),M[e]||null;let s=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(t,"&vs_currencies=usd&include_market_cap=true&include_24hr_vol=true&include_24hr_change=true&include_last_updated_at=true"),{headers:{Accept:"application/json","User-Agent":"Sarcophagus-Protocol/2.0"}});if(!s.ok)throw Error("CoinGecko API responded with status ".concat(s.status));let r=(await s.json())[t];if(!r)throw Error("No data returned for ".concat(e));let i={id:t,symbol:e.toUpperCase(),name:this.getTokenName(e),current_price:r.usd,market_cap:r.usd_market_cap,total_volume:r.usd_24h_vol,price_change_24h:r.usd_24h_change,price_change_percentage_24h:r.usd_24h_change,last_updated:new Date(1e3*r.last_updated_at).toISOString()};return this.cache.set(a,{data:i,timestamp:Date.now()}),i}catch(a){return console.error("Error fetching ".concat(e," price:"),a),M[e]||null}}calculatePortfolioValue(e,a){let t=0;return a.vet&&e.vet>0&&(t+=e.vet*a.vet.current_price),a.vtho&&e.vtho>0&&(t+=e.vtho*a.vtho.current_price),a.b3tr&&e.b3tr>0&&(t+=e.b3tr*a.b3tr.current_price),a.obol&&e.obol>0&&(t+=e.obol*a.obol.current_price),t}async getTokenPriceHistory(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(this.config.isDevelopment||this.config.isTestnet)return this.generateMockPriceHistory(a);try{let t=_[e],s=await fetch("https://api.coingecko.com/api/v3/coins/".concat(t,"/market_chart?vs_currency=usd&days=").concat(a),{headers:{Accept:"application/json","User-Agent":"Sarcophagus-Protocol/2.0"}});if(!s.ok)throw Error("CoinGecko API responded with status ".concat(s.status));return(await s.json()).prices||[]}catch(t){return console.error("Error fetching ".concat(e," price history:"),t),this.generateMockPriceHistory(a)}}getStaticPrices(){return{vet:M.vet,vtho:M.vtho,b3tr:M.b3tr,obol:M.obol,lastUpdated:new Date().toISOString()}}getTokenName(e){return({vet:"VeChain",vtho:"VeThor Token",b3tr:"B3TR Token",obol:"OBOL Token"})[e]||e.toUpperCase()}generateMockPriceHistory(e){let a=[],t=Date.now();for(let s=e;s>=0;s--){let e=t-864e5*s,r=.023*(1+(Math.random()-.5)*.1);a.push([e,r])}return a}async checkApiHealth(){if(this.config.isDevelopment||this.config.isTestnet)return{available:!0,responseTime:0};let e=Date.now();try{let a=await fetch("https://api.coingecko.com/api/v3/ping"),t=Date.now()-e;return{available:a.ok,responseTime:t}}catch(a){return{available:!1,responseTime:Date.now()-e,error:a instanceof Error?a.message:"Unknown error"}}}getCacheStats(){return{size:this.cache.size,hitRate:.85}}constructor(){this.config=j,this.cache=new Map,this.CACHE_DURATION=3e5}}let H=new U,G={getCarbonFootprint:async(e,a)=>({activity:e,region:a,carbonOutput:4.7,unit:"tons CO2/year",source:"Carbon Interface API",timestamp:new Date().toISOString()}),getRegionalClimateData:async e=>({location:e,temperature:20,humidity:60,airQuality:45,carbonIntensity:.4,timestamp:new Date().toISOString()})};function Y(e){var a,t,r,i,l,n,c,o,d,u,h;let{isUserVerified:m,hasSarcophagus:x,userSarcophagus:g,userBeneficiaries:p,tokenPrices:b,environmentalData:f,whoData:y}=e,v=()=>m?x?"text-green-400":"text-yellow-400":"text-red-400";return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"info-card bg-black/20 backdrop-blur-sm border border-purple-500/20 rounded-lg p-6 hover:border-purple-500/40 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Status"}),(0,s.jsx)("p",{className:"text-2xl font-bold ".concat(v()),children:m?x?"Active":"No Vault":"Not Verified"})]}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(v().replace("text-","bg-"))})]})}),(0,s.jsxs)("div",{className:"info-card bg-black/20 backdrop-blur-sm border border-purple-500/20 rounded-lg p-6 hover:border-purple-500/40 transition-colors",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Total Value Locked"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-purple-400",children:[g?(Number(g.vetAmount)/1e18+Number(g.vthoAmount)/1e18+Number(g.b3trAmount)/1e18).toFixed(2):"0"," VET"]})]}),(0,s.jsxs)("div",{className:"info-card bg-black/20 backdrop-blur-sm border border-purple-500/20 rounded-lg p-6 hover:border-purple-500/40 transition-colors",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Beneficiaries"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:(null==p?void 0:p.length)||0})]}),(0,s.jsxs)("div",{className:"info-card bg-black/20 backdrop-blur-sm border border-purple-500/20 rounded-lg p-6 hover:border-purple-500/40 transition-colors",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Pending Rewards"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-400",children:[(null==g?void 0:g.obolRewards)?(Number(g.obolRewards)/1e18).toFixed(2):"0"," OBOL"]})]}),b&&(0,s.jsxs)("div",{className:"info-card bg-black/20 backdrop-blur-sm border border-yellow-500/20 rounded-lg p-6 hover:border-yellow-500/40 transition-colors col-span-1 md:col-span-2 lg:col-span-1",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Token Prices (USD)"}),(0,s.jsxs)("div",{className:"text-xs text-yellow-300 space-y-1 mt-2",children:[(0,s.jsxs)("div",{children:["VET: $",null!==(l=null===(a=b.vet)||void 0===a?void 0:a.current_price)&&void 0!==l?l:"N/A"]}),(0,s.jsxs)("div",{children:["VTHO: $",null!==(n=null===(t=b.vtho)||void 0===t?void 0:t.current_price)&&void 0!==n?n:"N/A"]}),(0,s.jsxs)("div",{children:["B3TR: $",null!==(c=null===(r=b.b3tr)||void 0===r?void 0:r.current_price)&&void 0!==c?c:"N/A"]}),(0,s.jsxs)("div",{children:["OBOL: $",null!==(o=null===(i=b.obol)||void 0===i?void 0:i.current_price)&&void 0!==o?o:"N/A"]})]})]}),f&&(0,s.jsxs)("div",{className:"info-card bg-black/20 backdrop-blur-sm border border-green-500/20 rounded-lg p-6 hover:border-green-500/40 transition-colors col-span-1 md:col-span-2 lg:col-span-1",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Carbon Footprint"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-300 mt-2",children:[f.carbonOutput," ",f.unit]})]}),y&&(0,s.jsxs)("div",{className:"info-card bg-black/20 backdrop-blur-sm border border-blue-500/20 rounded-lg p-6 hover:border-blue-500/40 transition-colors col-span-1 md:col-span-2 lg:col-span-1",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Life Expectancy (WHO)"}),(0,s.jsxs)("div",{className:"text-xs text-blue-300 mt-2",children:[(0,s.jsxs)("div",{children:["Male: ",null!==(d=y.male)&&void 0!==d?d:"N/A"," yrs"]}),(0,s.jsxs)("div",{children:["Female: ",null!==(u=y.female)&&void 0!==u?u:"N/A"," yrs"]}),(0,s.jsxs)("div",{children:["Source: ",null!==(h=y.source)&&void 0!==h?h:"N/A"]})]})]})]})}function z(e){let{isUserVerified:a,hasSarcophagus:t,userSarcophagus:r}=e,{address:i}=(0,b.useWallet)(),l=a?t?(null==r?void 0:r.isDeceased)?{title:"Claim Inheritance",description:"The original owner has passed. You can now claim your inheritance",action:"Claim Now",color:"bg-yellow-600 hover:bg-yellow-700",icon:"\uD83D\uDCB0"}:{title:"Manage Your Vault",description:"Add funds, update beneficiaries, or check your rewards",action:"Manage Vault",color:"bg-blue-600 hover:bg-blue-700",icon:"\uD83D\uDD27"}:{title:"Create Your Sarcophagus",description:"Set up your digital inheritance vault with beneficiaries",action:"Create Vault",color:"bg-green-600 hover:bg-green-700",icon:"⚰️"}:{title:"Complete Onboarding",description:"Verify your identity and calculate life expectancy to get started",action:"Start Onboarding",color:"bg-purple-600 hover:bg-purple-700",icon:"\uD83D\uDCCB"};return(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-900/20 to-pink-900/20 border border-purple-500/30 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"text-3xl",children:l.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:l.title}),(0,s.jsx)("p",{className:"text-gray-300 mb-4",children:l.description}),(0,s.jsx)("button",{className:"px-6 py-2 rounded-lg text-white font-medium transition-colors ".concat(l.color),children:l.action})]})]})})})}function $(){let[e,a]=(0,r.useState)([]);(0,r.useEffect)(()=>{a([{id:"1",type:"deposit",description:"Deposited 10 VET to vault",amount:"10 VET",timestamp:new Date(Date.now()-18e5),status:"completed"},{id:"2",type:"reward",description:"Earned OBOL rewards",amount:"5.2 OBOL",timestamp:new Date(Date.now()-72e5),status:"completed"},{id:"3",type:"verification",description:"User verification completed",timestamp:new Date(Date.now()-864e5),status:"completed"}])},[]);let t=e=>{switch(e){case"deposit":return"\uD83D\uDCB0";case"claim":return"\uD83C\uDF81";case"reward":return"⭐";case"verification":return"✅";default:return"\uD83D\uDCDD"}},i=e=>{switch(e){case"completed":return"text-green-400";case"pending":return"text-yellow-400";case"failed":return"text-red-400";default:return"text-gray-400"}};return(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),(0,s.jsx)("div",{className:"bg-black/20 backdrop-blur-sm border border-purple-500/20 rounded-lg p-4",children:0===e.length?(0,s.jsx)("p",{className:"text-gray-400 text-center py-4",children:"No recent activity"}):(0,s.jsx)("div",{className:"space-y-3",children:e.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xl",children:t(e.type)}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-white",children:e.description}),e.amount&&(0,s.jsx)("p",{className:"text-xs text-purple-400",children:e.amount})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-xs ".concat(i(e.status)),children:e.status}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:e.timestamp.toLocaleTimeString()})]})]},e.id))})})]})}function q(e){let{isUserVerified:a,hasSarcophagus:t,userSarcophagus:r}=e,{claimObolRewards:i}=p(),l=(()=>{let e=[];return a||e.push({title:"Start Onboarding",description:"Verify your identity",icon:"\uD83D\uDCCB",color:"bg-purple-600 hover:bg-purple-700",action:()=>console.log("Start onboarding")}),a&&!t&&e.push({title:"Create Vault",description:"Set up inheritance vault",icon:"⚰️",color:"bg-green-600 hover:bg-green-700",action:()=>console.log("Create vault")}),t&&(e.push({title:"Add Funds",description:"Deposit VET, VTHO, B3TR",icon:"\uD83D\uDCB0",color:"bg-blue-600 hover:bg-blue-700",action:()=>console.log("Add funds")}),e.push({title:"Manage Beneficiaries",description:"Update beneficiary list",icon:"\uD83D\uDC65",color:"bg-indigo-600 hover:bg-indigo-700",action:()=>console.log("Manage beneficiaries")}),(null==r?void 0:r.obolRewards)&&Number(r.obolRewards)>0&&e.push({title:"Claim Rewards",description:"Claim OBOL rewards",icon:"⭐",color:"bg-yellow-600 hover:bg-yellow-700",action:i})),e})();return(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((e,a)=>(0,s.jsx)("button",{onClick:e.action,className:"".concat(e.color," rounded-lg p-4 text-left transition-colors"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"text-2xl",children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-white",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-200",children:e.description})]})]})},a))})]})}function K(){let{address:e}=(0,b.useWallet)(),{getWithdrawalEligibility:a,withdrawPartial:t,withdrawAll:i,emergencyWithdraw:l,userSarcophagus:n}=p(),[c,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(25),[h,m]=(0,r.useState)(""),[x,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&f()},[e]);let f=async()=>{e&&o(await a(e))},y=e=>{let a=parseInt(e);if(0===a)return"Available now";let t=Math.floor(a/86400),s=Math.floor(a%86400/3600),r=Math.floor(a%3600/60);return t>0?"".concat(t,"d ").concat(s,"h ").concat(r,"m"):s>0?"".concat(s,"h ").concat(r,"m"):"".concat(r,"m")},v=async()=>{await t(d),await f()},j=async()=>{await i(),await f()},w=async()=>{if(!h.trim()){alert("Please provide a reason for emergency withdrawal");return}await l(h),g(!1),m(""),await f()};return n&&0!==Number(n.vetAmount)+Number(n.vthoAmount)+Number(n.b3trAmount)+Number(n.obolAmount)?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Withdrawal Management"}),c&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Withdrawal Timeline"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Emergency Withdrawal:"}),(0,s.jsx)("span",{className:c.canEmergencyWithdraw?"text-green-600":"text-gray-500",children:c.canEmergencyWithdraw?"Available":y(c.timeUntilEmergencyWithdrawal)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Partial Withdrawal:"}),(0,s.jsx)("span",{className:c.canWithdrawPartial?"text-green-600":"text-gray-500",children:c.canWithdrawPartial?"Available":y(c.timeUntilPartialWithdrawal)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Full Withdrawal:"}),(0,s.jsx)("span",{className:c.canWithdrawAll?"text-green-600":"text-gray-500",children:c.canWithdrawAll?"Available":y(c.timeUntilFullWithdrawal)})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Partial Withdrawal (35% penalty)"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Withdraw up to 30% of your funds after 15 years"}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Percentage:"}),(0,s.jsxs)("select",{value:d,onChange:e=>u(Number(e.target.value)),className:"w-full p-2 border rounded",disabled:!c.canWithdrawPartial,children:[(0,s.jsx)("option",{value:10,children:"10%"}),(0,s.jsx)("option",{value:20,children:"20%"}),(0,s.jsx)("option",{value:30,children:"30%"})]})]}),(0,s.jsxs)("button",{onClick:v,disabled:!c.canWithdrawPartial,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:["Withdraw ",d,"%"]})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Full Withdrawal (20% penalty)"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Withdraw all funds after 15 years"}),(0,s.jsx)("button",{onClick:j,disabled:!c.canWithdrawAll,className:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Withdraw All"})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Emergency Withdrawal (90% penalty)"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Emergency access after 7 years with severe penalty"}),(0,s.jsx)("button",{onClick:()=>g(!0),disabled:!c.canEmergencyWithdraw,className:"w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Emergency Withdraw"})]})]}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"text-yellow-600 text-lg mr-2",children:"⚠️"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-yellow-800",children:"Important Notes"}),(0,s.jsxs)("ul",{className:"text-sm text-yellow-700 mt-1 space-y-1",children:[(0,s.jsx)("li",{children:"• No withdrawals allowed in the first 7 years"}),(0,s.jsx)("li",{children:"• Partial withdrawal (up to 30%) available after 15 years with 35% penalty"}),(0,s.jsx)("li",{children:"• Full withdrawal available after 15 years with 20% penalty"}),(0,s.jsx)("li",{children:"• Emergency withdrawal available after 7 years with 90% penalty"}),(0,s.jsx)("li",{children:"• All penalties are collected by the protocol"})]})]})]})}),(0,s.jsx)("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"text-red-600 text-xl mr-3",children:"\uD83D\uDEA8"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-red-800 text-lg",children:"SEVERE WARNING"}),(0,s.jsxs)("p",{className:"text-red-700 mt-2",children:[(0,s.jsx)("strong",{children:"These withdrawals are PERMANENT and IRREVERSIBLE."})," You will lose significant portions of your inheritance funds. This is not a savings account - this is a death-triggered inheritance vault.",(0,s.jsx)("strong",{children:"Only withdraw if you have no other options."})]}),(0,s.jsx)("div",{className:"mt-3 p-3 bg-red-100 rounded border border-red-200",children:(0,s.jsx)("p",{className:"text-red-800 text-sm font-medium",children:"\uD83D\uDC80 Remember: Your beneficiaries will receive these funds upon your death. Every withdrawal reduces what your loved ones will inherit."})})]})]})})]}),x&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Withdrawal"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:(0,s.jsxs)("p",{className:"text-red-800 text-sm",children:[(0,s.jsx)("strong",{children:"Warning:"})," This will incur a 90% penalty on your total funds. Only use in true emergencies."]})}),(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Emergency Reason:"}),(0,s.jsx)("textarea",{value:h,onChange:e=>m(e.target.value),placeholder:"Please describe the emergency situation...",className:"w-full p-2 border rounded",rows:3})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>g(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-400",children:"Cancel"}),(0,s.jsx)("button",{onClick:w,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Confirm Emergency Withdrawal"})]})]})})]}):null}function J(){let{isConnected:e,address:a}=(0,b.useWallet)(),{isUserVerified:t,hasSarcophagus:i,userSarcophagus:l,userBeneficiaries:n}=p(),[c,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[h,m]=(0,r.useState)(null),[x,g]=(0,r.useState)({});(0,r.useEffect)(()=>{e&&a&&f()},[e,a]);let f=async()=>{try{let[e,a,t,s]=await Promise.allSettled([H.fetchAllTokenPrices(),G.getCarbonFootprint("lifestyle","Global"),E.fetchLifeExpectancyData("United States"),y()]);"fulfilled"===e.status&&o(e.value),"fulfilled"===a.status&&u(a.value),"fulfilled"===t.status&&m(t.value),"fulfilled"===s.status&&g(s.value)}catch(e){console.error("Error loading API data:",e)}},y=async()=>{var e;let[a,t,s]=await Promise.allSettled([H.checkApiHealth(),(null===(e=G.checkApiHealth)||void 0===e?void 0:e.call(G))||Promise.resolve({available:!0}),E.checkApiHealth()]);return{tokenPrices:"fulfilled"===a.status?a.value:{available:!1},environmental:"fulfilled"===t.status?t.value:{available:!1},who:"fulfilled"===s.status?s.value:{available:!1}}};return e?(0,s.jsxs)("div",{className:"dashboard max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[Object.values(x).some(e=>!e.available)&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-yellow-400 text-sm",children:"Some data sources are using fallback mode"})]})}),(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)(Y,{isUserVerified:t,hasSarcophagus:i,userSarcophagus:l,userBeneficiaries:n,tokenPrices:c,environmentalData:d,whoData:h})}),(0,s.jsx)(z,{isUserVerified:t,hasSarcophagus:i,userSarcophagus:l,environmentalData:d}),i&&l&&(0,s.jsx)(K,{}),(0,s.jsx)($,{}),(0,s.jsx)(q,{isUserVerified:t,hasSarcophagus:i,userSarcophagus:l,tokenPrices:c})]}):null}function X(){let{isConnected:e,address:a}=(0,b.useWallet)(),{isUserVerified:t,hasSarcophagus:r,userSarcophagus:i}=p(),l=e?t?r?(null==i?void 0:i.isDeceased)?"beneficiary":"active":"verified":"connected":"unconnected";return"active"===l?(0,s.jsx)(J,{}):(0,s.jsx)("div",{className:"user-journey",children:(()=>{switch(l){case"unconnected":default:return(0,s.jsx)(B,{});case"connected":return(0,s.jsx)(P,{});case"verified":return(0,s.jsx)(V,{});case"beneficiary":return(0,s.jsx)(W,{})}})()})}function Q(){return(0,s.jsx)("header",{className:"bg-black/20 backdrop-blur-sm border-b border-purple-500/20",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xl font-bold",children:"⚰️"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Sarcophagus Protocol"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Secure Digital Inheritance on VeChain"})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsx)(R.TI,{})})]})})})}function Z(e){let{onAccept:a,onDecline:t,userAddress:i}=e,[l,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),p=l&&c&&d&&h&&x;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[(0,s.jsx)("div",{className:"text-red-600 text-3xl mr-3",children:"⚖️"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"LEGAL DISCLOSURE & AGREEMENT"})]}),(0,s.jsx)("div",{className:"mb-4 p-4 bg-red-50 border-2 border-red-300 rounded-lg",children:(0,s.jsxs)("p",{className:"text-red-800 font-medium",children:[(0,s.jsx)("strong",{children:"IMPORTANT:"})," This is a legally binding agreement. By accepting these terms, you acknowledge that you have read, understood, and agree to be bound by all provisions."]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:l,onChange:e=>n(e.target.checked),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Terms of Service Agreement"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 max-h-32 overflow-y-auto",children:[(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"1. IRREVOCABLE COMMITMENT:"})," By using the Sarcophagus Protocol, you acknowledge that funds deposited are irrevocably locked for a minimum of 7 years with no exceptions for any circumstances including medical emergencies, financial hardship, or legal proceedings."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"2. DEATH-TRIGGERED RELEASE:"})," Funds are only released upon verified death through oracle confirmation. This is not a savings account, investment vehicle, or emergency fund."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"3. SEVERE PENALTIES:"})," Early withdrawals incur penalties of 20-90% of total funds. Emergency withdrawals after 7 years result in 90% penalty."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"4. NO GUARANTEES:"})," The protocol makes no guarantees regarding inheritance law compliance, tax implications, or legal validity in your jurisdiction."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"5. TECHNICAL RISKS:"})," Smart contract risks, oracle failures, network issues, and technological failures may result in permanent loss of funds."]})]})]})]})}),(0,s.jsx)("div",{className:"border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:c,onChange:e=>o(e.target.checked),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Privacy Policy & Data Handling"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 max-h-32 overflow-y-auto",children:[(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"1. PUBLIC BLOCKCHAIN:"})," All transactions are recorded on public blockchain and may be permanently visible to anyone."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"2. DEATH VERIFICATION:"})," Death verification requires sharing personal information with oracles and may involve third-party verification services."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"3. BENEFICIARY INFORMATION:"})," Beneficiary addresses and inheritance percentages are stored on-chain and publicly visible."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"4. NO ANONYMITY:"})," This protocol is not anonymous. Your identity may be linked to your vault through various means."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"5. DATA RETENTION:"})," Information may be retained indefinitely on blockchain and by third-party services."]})]})]})]})}),(0,s.jsx)("div",{className:"border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:d,onChange:e=>u(e.target.checked),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Comprehensive Risk Disclosure"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 max-h-32 overflow-y-auto",children:[(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"1. PERMANENT LOSS:"})," Funds may be permanently lost due to smart contract bugs, oracle failures, or technological issues."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"2. REGULATORY RISKS:"})," Changes in laws or regulations may affect the legality or functionality of the protocol."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"3. INHERITANCE LAW RISKS:"})," The protocol may not comply with inheritance laws in your jurisdiction."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"4. TAX IMPLICATIONS:"})," Use of this protocol may have significant tax consequences that you are responsible for understanding."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"5. BENEFICIARY RISKS:"})," Beneficiaries may be unable to claim funds due to technical, legal, or regulatory issues."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"6. NO INSURANCE:"})," Funds are not insured by any government agency or private insurance."]})]})]})]})}),(0,s.jsx)("div",{className:"border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:h,onChange:e=>m(e.target.checked),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Legal Disclaimer & Professional Advice"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 max-h-32 overflow-y-auto",children:[(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"1. NOT LEGAL ADVICE:"})," This protocol does not constitute legal advice. You should consult with qualified legal professionals."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"2. JURISDICTION SPECIFIC:"})," Inheritance laws vary by jurisdiction. This protocol may not be valid in your location."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"3. ESTATE PLANNING:"})," This protocol may conflict with existing estate plans or wills. Professional review is required."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"4. NO WARRANTIES:"}),' The protocol is provided "as is" without any warranties regarding legality or effectiveness.']}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"5. LIABILITY LIMITATION:"})," The protocol developers and operators disclaim all liability for any damages or losses."]})]})]})]})}),(0,s.jsx)("div",{className:"border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"checkbox",checked:x,onChange:e=>g(e.target.checked),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Tax Implications & Responsibilities"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 max-h-32 overflow-y-auto",children:[(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"1. TAX CONSULTATION:"})," You are responsible for consulting with qualified tax professionals regarding all tax implications."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"2. INHERITANCE TAXES:"})," Beneficiaries may be subject to inheritance, estate, or gift taxes depending on jurisdiction."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"3. CAPITAL GAINS:"})," Token appreciation may result in capital gains taxes for beneficiaries."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"4. REPORTING REQUIREMENTS:"})," You are responsible for all tax reporting requirements in your jurisdiction."]}),(0,s.jsxs)("p",{className:"mb-2",children:[(0,s.jsx)("strong",{children:"5. NO TAX ADVICE:"})," The protocol does not provide tax advice and makes no representations about tax consequences."]})]})]})]})})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-red-100 border-2 border-red-400 rounded-lg",children:[(0,s.jsx)("h3",{className:"font-bold text-red-800 text-lg mb-2",children:"\uD83D\uDEA8 FINAL ACKNOWLEDGMENT"}),(0,s.jsxs)("p",{className:"text-red-700 text-sm",children:[(0,s.jsx)("strong",{children:"By accepting these terms, you acknowledge that:"}),(0,s.jsx)("br",{}),"• You have read and understood all disclosures",(0,s.jsx)("br",{}),"• You have consulted or will consult with legal and tax professionals",(0,s.jsx)("br",{}),"• You accept all risks associated with using this protocol",(0,s.jsx)("br",{}),"• You understand this is a legally binding agreement",(0,s.jsx)("br",{}),"• You are making an irrevocable commitment with severe penalties"]})]}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,s.jsx)("strong",{children:"Wallet Address:"})," ",i,(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Date:"})," ",new Date().toLocaleDateString(),(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Time:"})," ",new Date().toLocaleTimeString()]})}),(0,s.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,s.jsx)("button",{onClick:t,className:"flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg hover:bg-gray-600",children:"DECLINE - I Do Not Agree"}),(0,s.jsx)("button",{onClick:a,disabled:!p,className:"flex-1 bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"I ACCEPT ALL TERMS"})]})]})})})}function ee(){let{account:e,disconnect:a}=(0,b.useWallet)(),t=!!e,{showNotification:i,showTransactionNotification:l}=(0,g.useNotification)(),{isLoading:n,setLoading:c}=(0,f.useLoading)(),[o,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!0),[m,x]=(0,r.useState)(""),[y,j]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[k,A]=(0,r.useState)(""),[S,E]=(0,r.useState)(""),[C,T]=(0,r.useState)(""),[O,I]=(0,r.useState)(""),[R,B]=(0,r.useState)(""),[P,V]=(0,r.useState)(""),[F,W]=(0,r.useState)(""),[_,M]=(0,r.useState)(!1),[U,H]=(0,r.useState)(null),[G,Y]=(0,r.useState)("deposit"),[z,$]=(0,r.useState)(null),[q,K]=(0,r.useState)([]),[ee,ea]=(0,r.useState)(null),[et,es]=(0,r.useState)("0"),[er,ei]=(0,r.useState)("0"),[el,en]=(0,r.useState)(null),[ec,eo]=(0,r.useState)("0"),[ed,eu]=(0,r.useState)({maxBeneficiaries:5,minimumDeposit:"0.1",isPaused:!1,totalUsers:0,totalValueLocked:"0"}),{userSarcophagus:eh,userBeneficiaries:em,isUserVerified:ex,hasSarcophagus:eg,verifyUser:ep,createSarcophagus:eb,depositTokens:ef,lockObolTokens:ey,claimObolRewards:ev,verifyDeath:ej,claimInheritance:ew,refreshUserData:eN}=p(),{hasAcceptedAllTerms:ek,showLegalDisclosure:eA,acceptAllTerms:eS,declineTerms:eE}=function(e){let[a,t]=(0,r.useState)({termsAccepted:!1,privacyAccepted:!1,risksAccepted:!1,legalAccepted:!1,taxAccepted:!1,acceptedAt:null,userAddress:null}),[s,i]=(0,r.useState)(!1),l=a.termsAccepted&&a.privacyAccepted&&a.risksAccepted&&a.legalAccepted&&a.taxAccepted;(0,r.useEffect)(()=>{if(e){let a=localStorage.getItem("legal_acceptance_".concat(e));if(a)try{let e=JSON.parse(a);t(e)}catch(e){console.error("Error parsing legal acceptance:",e)}}},[e]);let n=a=>{e&&(localStorage.setItem("legal_acceptance_".concat(e),JSON.stringify(a)),t(a))},c=e&&!l;return(0,r.useEffect)(()=>{c&&i(!0)},[c]),{legalAcceptance:a,hasAcceptedAllTerms:l,showLegalDisclosure:s,setShowLegalDisclosure:i,acceptAllTerms:()=>{n({termsAccepted:!0,privacyAccepted:!0,risksAccepted:!0,legalAccepted:!0,taxAccepted:!0,acceptedAt:new Date().toISOString(),userAddress:e}),i(!1)},declineTerms:()=>{i(!1)},needsLegalAcceptance:c}}(e);!function(e){let{address:a}=(0,b.useWallet)();(0,r.useEffect)(()=>{if(a)return setTimeout(()=>{e("VaultCreated",{owner:"0x1234...",name:"Demo Vault"})},1e3),()=>{}},[a,e])}((e,a)=>{switch(e){case"UserVerified":i("User ".concat(a.user," verified successfully"),"success");break;case"SarcophagusCreated":i("Sarcophagus created for ".concat(a.user),"success");break;case"TokensDeposited":i("".concat(a.vetAmount," VET deposited"),"success");break;case"ObolTokensLocked":i("".concat(a.obolAmount," OBOL locked in vault"),"success");break;case"VaultRewardMinted":i("".concat(a.amount," OBOL rewards earned!"),"success");break;case"DeathVerified":i("Death verified for ".concat(a.user),"info");break;case"InheritanceClaimed":i("Inheritance claimed: ".concat(a.vetShare," VET"),"success");break;case"ContinuousRewardClaimed":i("".concat(a.amount," OBOL continuous rewards claimed!"),"success")}}),(0,r.useEffect)(()=>{t&&e&&(eN(),eC(),eT(),eO())},[t,e]);let eC=async()=>{try{en({totalSupply:"Unlimited (from Vebetter DAO)",carbonOffsetRate:"Years saved \xd7 personalized CO2 footprint/year",legacyBonusRate:"100 B3TR for reaching life expectancy + 100 B3TR per year past it",grandfatheringMultiplier:"N/A",userRewards:{carbonOffset:"0",legacyBonus:"0",grandfatheringEligible:!1,timeRemaining:"0 days"}}),eo("0")}catch(e){console.error("Error loading B3TR data:",e)}},eT=async()=>{try{eu({maxBeneficiaries:5,minimumDeposit:"0.1",isPaused:!1,totalUsers:1250,totalValueLocked:"45,250"})}catch(e){console.error("Error loading security status:",e)}},eO=async()=>{try{ea({totalSupply:"100,000,000",initialSupply:"5,000,000",rewardSupply:"95,000,000",rewardRate:"1 OBOL per 1 VET deposited",remainingRewards:"85,000,000",vestingProgress:10.5,dailyAPY:8.5,bonusAPY:2.1,userStake:{lockedValue:"0",lastClaimTime:0,startTime:0,totalEarned:"0",pendingRewards:"0",dailyRewardRate:"0",isLongTermHolder:!1}}),es("0"),ei("0")}catch(e){console.error("Error loading OBOL data:",e)}},eI=async e=>{c("createSarcophagus",!0);try{let a=e.beneficiaries.map(e=>e.address),t=e.beneficiaries.map(e=>parseInt(e.percentage,10)),s=await eb(a,t);await s.wait(),i("Sarcophagus vault created successfully!","success"),await eN(),h(!1)}catch(e){console.error("Error creating sarcophagus from onboarding:",e),i("Failed to create Sarcophagus vault.","error")}c("createSarcophagus",!1)},eD=async(e,a)=>{c("createSarcophagus",!0);try{let a=e.map(e=>e.address),t=e.map(e=>e.percentage),s=await eb(a,t);await s.wait(),i("Sarcophagus vault created successfully!","success"),await eN(),d(!1)}catch(e){console.error("Error creating sarcophagus from beneficiary modal:",e),i("Failed to create Sarcophagus vault.","error")}c("createSarcophagus",!1)};return eA&&e?(0,s.jsx)(Z,{onAccept:eS,onDecline:eE,userAddress:e}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,s.jsx)(Q,{}),(0,s.jsx)("main",{className:"container mx-auto p-4",children:e&&ek?(0,s.jsx)(J,{}):(0,s.jsx)(X,{})}),(0,s.jsx)(D,{isOpen:u,onClose:()=>h(!1),onComplete:eI}),(0,s.jsx)(v,{isOpen:o,onClose:()=>d(!1),onComplete:eD}),(0,s.jsx)(L,{vault:U,isOpen:_,onClose:()=>M(!1),defaultTab:G})]})}}},function(e){e.O(0,[414,995,560,971,938,744],function(){return e(e.s=540)}),_N_E=e.O()}]);